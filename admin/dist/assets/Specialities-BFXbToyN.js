import{r as a,j as e,L as o,n as h,s as p}from"./index-B1WDzP11.js";import{T as x}from"./moment-C9haO6dQ.js";import{u as d,l as j}from"./Layout-Dw3FdOA7.js";import"./Subtitle-B4toLw5U.js";function m({title:s,titleId:r,...n},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},n),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const u=a.forwardRef(m),f=()=>e.jsx("div",{className:"inline-block float-right",children:e.jsx(o,{to:"/app/specialities/new",children:e.jsx("button",{className:"btn px-6 btn-sm normal-case btn-primary",children:"Add New"})})});function g(){d();const s=localStorage.getItem("token"),[r,n]=a.useState(),[l,c]=a.useState(!1);return a.useEffect(()=>{(async()=>{try{if(s){c(!0);const t=await h.get("http://localhost:5000/admin/get-all-specialties",{headers:{Authorization:`Bearer ${s}`}});console.log(t.data.specialities),n(t.data.specialities)}}catch(t){if(console.log(t),t.response&&t.response.status===401)return navigate("/");j.NotificationManager.error("Failed to fetch campaigns","Error",5e3,()=>{alert(t.response.data.error)})}finally{c(!1)}})()},[s]),e.jsx(e.Fragment,{children:e.jsx(x,{title:"Specialities",topMargin:"mt-2",TopSideButtons:e.jsx(f,{}),children:e.jsx("div",{className:"overflow-x-auto w-full",children:e.jsxs("table",{className:"table w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Last Update"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:r&&r.length>0&&r.map((i,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle w-12 h-12",children:e.jsx("img",{src:i.icon,alt:"Avatar"})})}),e.jsx("div",{children:e.jsx("div",{className:"font-bold",children:i.title})})]})}),e.jsx("td",{children:i.desc}),e.jsx("td",{children:i.lastUpdate}),e.jsx("td",{children:i.createdAt}),e.jsx("td",{children:e.jsx(o,{to:`/app/specialities/${i.id}`,children:e.jsx("button",{className:"btn btn-square btn-ghost p-4",children:e.jsxs("p",{className:"flex items-center gap-1",children:["Edit ",e.jsx(u,{className:"w-5"})]})})})})]},t))})]})})})})}function k(){const s=d();return a.useEffect(()=>{s(p({title:"Specialities"}))},[]),e.jsx(g,{})}export{k as default};
